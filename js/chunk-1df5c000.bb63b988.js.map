{"version":3,"sources":["webpack:///./src/views/front/FollowPage.vue","webpack:///./src/components/front/cards/FollowingCard.vue","webpack:///./src/components/front/cards/FollowingCard.vue?909b","webpack:///./src/views/front/FollowPage.vue?67ac","webpack:///./src/components/front/cards/FollowingCard.vue?77ac","webpack:///./src/components/front/cards/AddPostCard.vue","webpack:///./src/components/front/cards/AddPostCard.vue?564b","webpack:///./src/views/front/FollowPage.vue?6f94"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_7","_hoisted_8","_createElementBlock","_createVNode","_component_PostFilter","onSearch","$setup","header","items","userToken","_createBlock","_component_AddPostCard","key","_Fragment","_renderList","posts","postItem","index","_component_PostCard","id","post-item","post-index","onClick","length","_hoisted_9","_component_FollowingCard","following","_hoisted_3","_hoisted_12","active","type","_hoisted_5","$props","userItem","_component_RouterLink","_id","to","src","photo","alt","name","_toDisplayString","_hoisted_10","props","setup","statusData","statusStore","listShow","ref","openModel","value","noScroll","closeModel","__exports__","components","PostFilter","AddPostCard","PostCard","FollowingCard","userData","userStore","postsData","postsStore","followData","followStore","isLoading","morePostBtn","searchFilter","resetFilter","sort","query","likes","console","log","getPostsData","page","getPosts","getMyFollowPosts","user","token","result","data","search","getMorePost","init","openPageLoader","getMyFollow","res","render","openPostModel"],"mappings":"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","file":"js/chunk-1df5c000.bb63b988.js","sourcesContent":["<script>\nimport { ref } from 'vue';\nimport userStore from '@/stores/userStore';\nimport postsStore from '@/stores/postsStore';\nimport followStore from '@/stores/followStore';\nimport statusStore from '@/stores/statusStore';\nimport PostFilter from '@/components/front/PostFilter.vue';\nimport AddPostCard from '@/components/front/cards/AddPostCard.vue';\nimport PostCard from '@/components/front/cards/PostCard.vue';\nimport FollowingCard from '@/components/front/cards/FollowingCard.vue';\n\nexport default {\n  components: {\n    PostFilter,\n    AddPostCard,\n    PostCard,\n    FollowingCard,\n  },\n  setup() {\n    const userData = userStore();\n    const postsData = postsStore();\n    const statusData = statusStore();\n    const followData = followStore();\n    const following = ref([]);\n    const isLoading = ref(false);\n    const morePostBtn = ref(false);\n    const searchFilter = ref({});\n    function resetFilter(sort = 'desc', query = '', likes = '') {\n      console.log(sort, query, likes);\n      postsData.getPostsData.page = 1;\n      searchFilter.value = {\n        page: 1,\n        sort,\n        query,\n        likes,\n      };\n    }\n    async function getPosts() {\n      isLoading.value = true;\n      const result = await postsData.getMyFollowPosts(\n        searchFilter.value.page,\n        searchFilter.value.sort,\n        searchFilter.value.query,\n        userData.user.token,\n      );\n      if (result.data.data.length === 10) {\n        morePostBtn.value = true;\n      } else {\n        morePostBtn.value = false;\n      }\n      isLoading.value = false;\n    }\n    async function search(data) {\n      if (data.type === 'like') {\n        resetFilter(data.type, data.query, userData?.user?.id);\n      } else {\n        resetFilter(data.type, data.query, '');\n      }\n      getPosts();\n    }\n    async function getMorePost() {\n      searchFilter.value.page += 1;\n      getPosts();\n    }\n    async function init() {\n      statusData.openPageLoader();\n      resetFilter();\n      getPosts();\n      const res = await followData.getMyFollow(userData.user.token);\n      following.value = [...res.data[0].following];\n    }\n    init();\n    return {\n      postsData,\n      following,\n      morePostBtn,\n      isLoading,\n      getMorePost,\n      userData,\n      search,\n    };\n  },\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-xl-6 col-lg-8 col-12 d-flex flex-column gap-4\">\n        <PostFilter\n          @search=\"search\"\n          header=\"排序\"\n          :items=\"[\n            {\n              name: '由新到舊',\n              type: 'desc',\n            },\n            {\n              name: '由舊到新',\n              type: 'asc',\n            },\n          ]\"\n        />\n        <AddPostCard v-if=\"userData.userToken\" />\n        <template v-for=\"(postItem, index) in postsData.posts\" :key=\"postItem.id\">\n          <PostCard :post-item=\"postItem\" :post-index=\"index\" />\n        </template>\n        <div v-if=\"morePostBtn\" class=\"getMorePostBtn\" @click=\"getMorePost\">\n          <p>點擊載入更多貼文...</p>\n        </div>\n        <div v-if=\"postsData.posts.length === 0 && !isLoading\" class=\"noContentBox\">\n          <p>您尚未追蹤任何用戶～</p>\n          <p>歡迎追蹤喜歡的用戶，即時了解他們的狀況!</p>\n        </div>\n      </div>\n      <div class=\"col-lg-4 col-5 position-relative\">\n        <FollowingCard :following=\"following\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.side-sticky-top {\n  position: sticky;\n  top: 5rem;\n}\n.thumbUpBox {\n  background: #ffffff 0% 0% no-repeat padding-box;\n  box-shadow: 0px 3px 0px #000400;\n  border: 2px solid #000400;\n  border-radius: 8px;\n  opacity: 1;\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  background-color: white;\n  transition: all 0.3s;\n  &__img {\n    width: 40px;\n    height: 40px;\n    object-fit: cover;\n    border-radius: 50%;\n    border: 2px solid #000;\n  }\n  &:hover {\n    background-color: #f7f7f7;\n  }\n}\n</style>\n","<script>\nimport { ref } from 'vue';\nimport statusStore from '@/stores/statusStore';\n\nexport default {\n  props: ['following'],\n  setup() {\n    const statusData = statusStore();\n    const listShow = ref(false);\n    function openModel() {\n      listShow.value = true;\n      statusData.noScroll = true;\n    }\n    function closeModel() {\n      listShow.value = false;\n      statusData.noScroll = false;\n    }\n    return {\n      listShow,\n      openModel,\n      closeModel,\n    };\n  },\n};\n</script>\n<template>\n  <div class=\"sideBox gap-3\">\n    <div class=\"sideBox__card card gap-3\" :class=\"{ active: listShow }\">\n      <div class=\"p-3 border-bottom d-flex gap-2 align-items-center\">\n        <button @click=\"closeModel\" type=\"button\" class=\"btn d-lg-none d-block\">\n          <i class=\"bi bi-chevron-left\"></i>\n        </button>\n        <div class=\"card-title\">我的追蹤</div>\n      </div>\n      <div class=\"followUserList card-body d-flex flex-column gap-3\">\n        <template v-for=\"userItem in following\" :key=\"userItem._id\">\n          <RouterLink :to=\"`/profile/${userItem._id}`\" class=\"followUser\">\n            <img\n              class=\"user-picture\"\n              :src=\"userItem.photo || 'https://i.imgur.com/ZWHoRPi.png'\"\n              :alt=\"userItem.name\"\n            />\n            <div class=\"user-info\">\n              <span class=\"user-info-title\">{{ userItem.name }}</span>\n            </div>\n            <div class=\"btn btn-sm\"><i class=\"bi bi-arrow-right-circle\"></i></div>\n          </RouterLink>\n        </template>\n        <p\n          class=\"d-flex flex-grow-1 align-items-center justify-content-center text-gray-middle\"\n          v-if=\"following.length === 0\"\n        >\n          目前尚未追蹤任何用戶\n        </p>\n      </div>\n    </div>\n    <button\n      v-if=\"following.length > 0\"\n      @click=\"openModel\"\n      type=\"button\"\n      class=\"sideBtn d-lg-none d-block\"\n    >\n      <i class=\"bi bi-person-square\"></i>\n    </button>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.followUserList {\n  max-height: 50vh;\n  overflow: auto;\n  @media (max-width: 767.98px) {\n    max-height: 100%;\n  }\n}\n.followUser {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  .btn {\n    color: var(--bs-dark);\n    transition: all 0.3s;\n    &:hover {\n      color: var(--bs-primary);\n    }\n  }\n  .user-info-title {\n    transition: all 0.3s;\n  }\n  &:hover {\n    .btn {\n      color: var(--bs-primary);\n    }\n    .user-info-title {\n      color: var(--bs-primary);\n    }\n  }\n}\n</style>\n","import { render } from \"./FollowingCard.vue?vue&type=template&id=2f03d0dd&scoped=true\"\nimport script from \"./FollowingCard.vue?vue&type=script&lang=js\"\nexport * from \"./FollowingCard.vue?vue&type=script&lang=js\"\n\nimport \"./FollowingCard.vue?vue&type=style&index=0&id=2f03d0dd&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jordantseng/Library/Mobile Documents/com~apple~CloudDocs/coding/2022Node/團隊作業/hex-team-post/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2f03d0dd\"]])\n\nexport default __exports__","import { render } from \"./FollowPage.vue?vue&type=template&id=655e8916&scoped=true\"\nimport script from \"./FollowPage.vue?vue&type=script&lang=js\"\nexport * from \"./FollowPage.vue?vue&type=script&lang=js\"\n\nimport \"./FollowPage.vue?vue&type=style&index=0&id=655e8916&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jordantseng/Library/Mobile Documents/com~apple~CloudDocs/coding/2022Node/團隊作業/hex-team-post/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-655e8916\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FollowingCard.vue?vue&type=style&index=0&id=2f03d0dd&lang=scss&scoped=true\"","<script>\nimport userStore from '@/stores/userStore';\nimport postsStore from '@/stores/postsStore';\n\nexport default {\n  setup(props) {\n    const userData = userStore();\n    const postsData = postsStore();\n    return {\n      props,\n      userData,\n      postsData,\n    };\n  },\n};\n</script>\n\n<template>\n  <div class=\"card\" :class=\"props.class\">\n    <div class=\"card-body d-flex justify-content-between align-items-center\">\n      <div class=\"d-flex align-items-center gap-2\">\n        <img\n          :src=\"userData.user.photo || 'https://i.imgur.com/ZWHoRPi.png'\"\n          alt=\"用戶圖片\"\n          class=\"user-picture me-0\"\n        />\n        <p>{{ userData.user.name }}</p>\n      </div>\n      <div class=\"d-flex align-items-center gap-2\">\n        <button @click=\"postsData.openPostModel('group')\" type=\"button\" class=\"btn btn-default\">\n          <i class=\"webIcon--sm bi bi-plus-lg\"></i> 新增貼文\n        </button>\n        <button @click=\"postsData.openPostModel('person')\" type=\"button\" class=\"btn btn-default\">\n          <i class=\"webIcon--sm bi bi-plus-lg\"></i> 私密日記\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./AddPostCard.vue?vue&type=template&id=7a4740e0\"\nimport script from \"./AddPostCard.vue?vue&type=script&lang=js\"\nexport * from \"./AddPostCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/jordantseng/Library/Mobile Documents/com~apple~CloudDocs/coding/2022Node/團隊作業/hex-team-post/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FollowPage.vue?vue&type=style&index=0&id=655e8916&lang=scss&scoped=true\""],"sourceRoot":""}