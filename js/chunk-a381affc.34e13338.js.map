{"version":3,"sources":["webpack:///./src/views/front/OrderSuccess.vue","webpack:///./src/views/front/OrderSuccess.vue?ab18","webpack:///./src/views/front/OrderSuccess.vue?e683"],"names":["class","_createElementBlock","_createElementVNode","_toDisplayString","$setup","setup","route","useRoute","router","useRouter","paymentData","paymentStore","userData","userStore","pageTitle","ref","pageTxt","sendOrderId","checkOrder","query","orderId","value","checkPayment","result","console","log","message","JSON","parse","localStorage","getItem","localUser","getMyWallet","token","push","setTimeout","__exports__","render"],"mappings":"4IA4COA,MAAM,sB,wDAAXC,gCAGM,MAHN,EAGM,CAFJC,gCAAwB,UAAAC,6BAAjBC,aAAS,GAChBF,gCAAoB,SAAAC,6BAAdC,WAAO,K,gEAxCF,GACbC,MADa,WAEX,IAAMC,EAAQC,iBACRC,EAASC,iBACTC,EAAcC,iBACdC,EAAWC,iBACXC,EAAYC,iBAAI,SAChBC,EAAUD,iBAAI,iBACdE,EAAcF,iBAAI,IAPlB,SASSG,IATT,6FASN,4GACMZ,EAAMa,MAAMC,QADlB,wBAEYA,EAAYd,EAAMa,MAAlBC,QACRH,EAAYI,MAAQD,EAHxB,SAIyBV,EAAYY,aAAaF,GAJlD,UAIUG,EAJV,OAKIC,QAAQC,IAAIF,GACW,SAAnBA,EAAOG,QANf,wBAOMZ,EAAUO,MAAQ,eAClBL,EAAQK,MAAQ,UARtB,UAS8BM,KAAKC,MAAMC,aAAaC,QAAQ,YAT9D,eASYC,EATZ,iBAUYnB,EAASoB,YAAYD,EAAUE,OAV3C,QAWMzB,EAAO0B,KAAK,KAXlB,wBAaMpB,EAAUO,MAAQ,OAClBL,EAAQK,MAAQ,cAChBc,YAAW,WACT3B,EAAO0B,KAAK,OACX,KAjBT,4CATM,wBA+BN,OAvBAV,QAAQC,IAAInB,EAAMa,OAsBlBD,IACO,CAAEJ,YAAWE,a,iCC/BxB,MAAMoB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W","file":"js/chunk-a381affc.34e13338.js","sourcesContent":["<script>\nimport { ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport paymentStore from '@/stores/paymentStore';\nimport userStore from '@/stores/userStore';\n\nexport default {\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const paymentData = paymentStore();\n    const userData = userStore();\n    const pageTitle = ref('查詢訂單中');\n    const pageTxt = ref('正在為您處理，請等待片刻~');\n    const sendOrderId = ref('');\n    console.log(route.query);\n    async function checkOrder() {\n      if (route.query.orderId) {\n        const { orderId } = route.query;\n        sendOrderId.value = orderId;\n        const result = await paymentData.checkPayment(orderId);\n        console.log(result);\n        if (result.message === '授權成功') {\n          pageTitle.value = '交易成功，感謝您的購買！';\n          pageTxt.value = '儲值後返回首頁';\n          const localUser = await JSON.parse(localStorage.getItem('sd-user'));\n          await userData.getMyWallet(localUser.token);\n          router.push('/');\n        } else {\n          pageTitle.value = '交易失敗';\n          pageTxt.value = '3秒後，即將返回首頁～';\n          setTimeout(() => {\n            router.push('/');\n          }, 3000);\n        }\n      }\n    }\n    checkOrder();\n    return { pageTitle, pageTxt };\n  },\n};\n</script>\n\n<template>\n  <div class=\"orderSuccess gap-4\">\n    <h2>{{ pageTitle }}</h2>\n    <p>{{ pageTxt }}</p>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.orderSuccess {\n  height: 60%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n","import { render } from \"./OrderSuccess.vue?vue&type=template&id=ba51376a&scoped=true\"\nimport script from \"./OrderSuccess.vue?vue&type=script&lang=js\"\nexport * from \"./OrderSuccess.vue?vue&type=script&lang=js\"\n\nimport \"./OrderSuccess.vue?vue&type=style&index=0&id=ba51376a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jordantseng/Library/Mobile Documents/com~apple~CloudDocs/coding/2022Node/團隊作業/hex-team-post/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ba51376a\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OrderSuccess.vue?vue&type=style&index=0&id=ba51376a&lang=scss&scoped=true\""],"sourceRoot":""}